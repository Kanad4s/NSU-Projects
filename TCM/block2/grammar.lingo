term = dbl | sum | sub | mul | div | pow;

dbl = ws digit+ $a ws {Dbl(s2d($a))};

sum = "(" ws term:l ws "+" ws term:r ws ")" ws { Sum(:l, :r) };
sub = "(" ws term:l ws "-" ws term:r ws ")" ws { Sub(:l, :r) };
mul = "(" ws term:l ws "*" ws term:r ws ")" ws { Mul(:l, :r) };
div = "(" ws term:l ws "/" ws term:r ws ")" ws { Div(:l, :r) };
pow = "(" ws term:l ws "^" ws term:r ws ")" ws { Pow(:l, :r) };

digit = '0' - '9';
letter = 'a' - 'z' | 'A' - 'Z';
ws = (' ' | '\t' | '\n')*;